# a JUNO example that uses jobvar splitter.
# This TDF creates 10 jobs for each positions and particles setting combinations.
taskName: juno_jobvar_example
backend: juno

experiment: juno
softVersion: 'J19v1r0-Pre3' 

splitter:
	mode: splitByJobvars
	maxSubjobs: 10
    evtMaxPerJob: 100
	jobvar_lists:
        particles:
            type: enumerate
            list: ['e-','e+','alpha','gamma']
            group: a
        positions:
            type: enumerate
            list: ['0 0 17000','17000 0 0', '0 0 0']
            group: b
        seed: #10 jobs per (particle, position) setting, with different seeds
            type: randint
            length: 10
            group: c
                
outputSubDir: 'juno_prod'

workflow:	
    steps: [detsim]

    detsim:
        seed: '$(seed)'
        particles: '$(particles)'
        positions: '$(positions)'

   
